# Application
spring.application.name=places-tracker
server.port=8443
server.servlet.context-path=/placestracker

# SSL Configuration (Local development only - self-signed certificate)
# DO NOT use this keystore in production
server.ssl.enabled=true
server.ssl.key-store=classpath:ssl/keystore.p12
server.ssl.key-store-password=changeit
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=placestracker

# MongoDB (Spring Boot 4.0 uses spring.mongodb.* not spring.data.mongodb.*)
spring.mongodb.uri=${SPRING_MONGODB_URI:mongodb://localhost:27017/placestracker}
spring.data.mongodb.auto-index-creation=true

# Thymeleaf
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# File Upload (multipart)
app.photo.max-size-mb=15
spring.servlet.multipart.max-file-size=${app.photo.max-size-mb}MB
spring.servlet.multipart.max-request-size=100MB

# Tomcat multipart configuration (Tomcat 11+ has strict limits)
# Max number of parts (form fields + files) in a multipart request
# Note: Even with 2 files, we hit the limit due to form fields counting as parts
server.tomcat.max-part-count=1000

# Logging
logging.level.dk.placestracker=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.org.springframework.boot.autoconfigure.mongo=DEBUG
logging.level.org.springframework.core.env=DEBUG

# File logging
logging.file.name=logs/places-tracker.log
logging.file.max-size=10MB
logging.file.max-history=7
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=7
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr([%thread]){magenta} %clr(%-5level){green} %clr(%logger{36}){cyan} %clr(-){faint} %msg%n

# Date/Time formatting
spring.mvc.format.date=yyyy-MM-dd

# Google Maps API
google.maps.api-key=${GOOGLE_MAPS_API_KEY:}
google.maps.timeout.seconds=10
google.maps.distance-matrix.batch-size=25
